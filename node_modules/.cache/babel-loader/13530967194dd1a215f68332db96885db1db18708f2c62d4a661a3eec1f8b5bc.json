{"ast":null,"code":"import _slicedToArray from\"/Users/liruge/Desktop/simon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{NavLink,Route,Routes}from'react-router-dom';import{Login}from'./login/login';import{Play}from'./play/play';import{Scores}from'./scores/scores';import{About}from'./about/about';import{AuthState}from'./login/authState';import'bootstrap/dist/css/bootstrap.min.css';import'./app.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(localStorage.getItem('userName')||''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];// Asynchronously determine if the user is authenticated by calling the service\nvar _React$useState3=React.useState(AuthState.Unknown),_React$useState4=_slicedToArray(_React$useState3,2),authState=_React$useState4[0],setAuthState=_React$useState4[1];React.useEffect(function(){if(userName){fetch(\"/api/user/\".concat(userName)).then(function(response){if(response.status===200){return response.json();}}).then(function(user){var state=user!==null&&user!==void 0&&user.authenticated?AuthState.Authenticated:AuthState.Unauthenticated;setAuthState(state);});}else{setAuthState(AuthState.Unauthenticated);}},[userName]);return/*#__PURE__*/_jsxs(\"div\",{className:\"body bg-dark text-light\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar fixed-top navbar-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand\",children:[\"Simon\",/*#__PURE__*/_jsx(\"sup\",{children:\"\\xAE\"})]}),/*#__PURE__*/_jsxs(\"menu\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"\",children:\"Login\"})}),authState===AuthState.Authenticated&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"play\",children:\"Play\"})}),authState===AuthState.Authenticated&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"scores\",children:\"Scores\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"about\",children:\"About\"})})]})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{userName:userName,authState:authState,onAuthChange:function onAuthChange(userName,authState){setAuthState(authState);setUserName(userName);}}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/play\",element:/*#__PURE__*/_jsx(Play,{userName:userName})}),/*#__PURE__*/_jsx(Route,{path:\"/scores\",element:/*#__PURE__*/_jsx(Scores,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-dark text-dark text-muted\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-reset\",children:\"Author Name(s)\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-reset\",href:\"https://github.com/webprogramming260/simon-react\",children:\"Source\"})]})})]});}function NotFound(){return/*#__PURE__*/_jsx(\"main\",{className:\"container-fluid bg-secondary text-center\",children:\"404: Return to sender. Address unknown.\"});}export default App;","map":{"version":3,"names":["React","NavLink","Route","Routes","Login","Play","Scores","About","AuthState","App","useState","localStorage","getItem","userName","setUserName","Unknown","authState","setAuthState","useEffect","fetch","then","response","status","json","user","state","authenticated","Authenticated","Unauthenticated","NotFound"],"sources":["/Users/liruge/Desktop/simon/src/app.jsx"],"sourcesContent":["import React from 'react';\n\nimport { NavLink, Route, Routes } from 'react-router-dom';\nimport { Login } from './login/login';\nimport { Play } from './play/play';\nimport { Scores } from './scores/scores';\nimport { About } from './about/about';\nimport { AuthState } from './login/authState';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './app.css';\n\nfunction App() {\n  const [userName, setUserName] = React.useState(localStorage.getItem('userName') || '');\n\n  // Asynchronously determine if the user is authenticated by calling the service\n  const [authState, setAuthState] = React.useState(AuthState.Unknown);\n  React.useEffect(() => {\n    if (userName) {\n      fetch(`/api/user/${userName}`)\n        .then((response) => {\n          if (response.status === 200) {\n            return response.json();\n          }\n        })\n        .then((user) => {\n          const state = user?.authenticated ? AuthState.Authenticated : AuthState.Unauthenticated;\n          setAuthState(state);\n        });\n    } else {\n      setAuthState(AuthState.Unauthenticated);\n    }\n  }, [userName]);\n\n  return (\n    <div className='body bg-dark text-light'>\n      <header className='container-fluid'>\n        <nav className='navbar fixed-top navbar-dark'>\n          <div className='navbar-brand'>\n            Simon<sup>&reg;</sup>\n          </div>\n          <menu className='navbar-nav'>\n            <li className='nav-item'>\n              <NavLink className='nav-link' to=''>\n                Login\n              </NavLink>\n            </li>\n            {authState === AuthState.Authenticated && (\n              <li className='nav-item'>\n                <NavLink className='nav-link' to='play'>\n                  Play\n                </NavLink>\n              </li>\n            )}\n            {authState === AuthState.Authenticated && (\n              <li className='nav-item'>\n                <NavLink className='nav-link' to='scores'>\n                  Scores\n                </NavLink>\n              </li>\n            )}\n            <li className='nav-item'>\n              <NavLink className='nav-link' to='about'>\n                About\n              </NavLink>\n            </li>\n          </menu>\n        </nav>\n      </header>\n\n      <Routes>\n        <Route\n          path='/'\n          element={\n            <Login\n              userName={userName}\n              authState={authState}\n              onAuthChange={(userName, authState) => {\n                setAuthState(authState);\n                setUserName(userName);\n              }}\n            />\n          }\n          exact\n        />\n        <Route path='/play' element={<Play userName={userName} />} />\n        <Route path='/scores' element={<Scores />} />\n        <Route path='/about' element={<About />} />\n        <Route path='*' element={<NotFound />} />\n      </Routes>\n\n      <footer className='bg-dark text-dark text-muted'>\n        <div className='container-fluid'>\n          <span className='text-reset'>Author Name(s)</span>\n          <a className='text-reset' href='https://github.com/webprogramming260/simon-react'>\n            Source\n          </a>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nfunction NotFound() {\n  return <main className='container-fluid bg-secondary text-center'>404: Return to sender. Address unknown.</main>;\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}