{"ast":null,"code":"import _regeneratorRuntime from\"/Users/liruge/Desktop/simon/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/liruge/Desktop/simon/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/liruge/Desktop/simon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{delay}from'./delay';import{jsx as _jsx}from\"react/jsx-runtime\";export var SimonButton=/*#__PURE__*/React.forwardRef(function(_ref,ref){var position=_ref.position,onPressed=_ref.onPressed;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),lightOn=_React$useState2[0],setLightOn=_React$useState2[1];var sound=new Audio(\"/\".concat(position,\".mp3\"));// Use \"React Refs\" to allow the parent to reach into the button component\n// and simulate a button press. This is necessary to play the sequence that\n// the player must copy.\nReact.useImperativeHandle(ref,function(){return{press:function press(){var _arguments=arguments;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var delayMs,playSound;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:delayMs=_arguments.length>0&&_arguments[0]!==undefined?_arguments[0]:500;playSound=_arguments.length>1&&_arguments[1]!==undefined?_arguments[1]:true;setLightOn(false);if(playSound){sound.play();}_context.next=6;return delay(delayMs);case 6:setLightOn(true);_context.next=9;return delay(100);case 9:case\"end\":return _context.stop();}}},_callee);}))();}};});return/*#__PURE__*/_jsx(\"button\",{id:position,className:\"game-button \".concat(position,\" \").concat(lightOn?'light-on':''),onClick:function onClick(){return onPressed(position);}});});","map":{"version":3,"names":["React","delay","SimonButton","forwardRef","ref","position","onPressed","useState","lightOn","setLightOn","sound","Audio","useImperativeHandle","press","delayMs","playSound","play"],"sources":["/Users/liruge/Desktop/simon/src/play/simonButton.js"],"sourcesContent":["import React from 'react';\nimport { delay } from './delay';\n\nexport const SimonButton = React.forwardRef(({ position, onPressed }, ref) => {\n  const [lightOn, setLightOn] = React.useState(true);\n  const sound = new Audio(`/${position}.mp3`);\n\n  // Use \"React Refs\" to allow the parent to reach into the button component\n  // and simulate a button press. This is necessary to play the sequence that\n  // the player must copy.\n  React.useImperativeHandle(ref, () => ({\n    async press(delayMs = 500, playSound = true) {\n      setLightOn(false);\n      if (playSound) {\n        sound.play();\n      }\n      await delay(delayMs);\n      setLightOn(true);\n      await delay(100);\n    },\n  }));\n\n  return (\n    <button\n      id={position}\n      className={`game-button ${position} ${lightOn ? 'light-on' : ''}`}\n      onClick={() => onPressed(position)}\n    ></button>\n  );\n});\n"],"mappings":"mWAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,SAAS,CAAC,2CAEhC,MAAO,IAAMC,YAAW,cAAGF,KAAK,CAACG,UAAU,CAAC,cAA0BC,GAAG,CAAK,IAA/BC,SAAQ,MAARA,QAAQ,CAAEC,SAAS,MAATA,SAAS,CAChE,oBAA8BN,KAAK,CAACO,QAAQ,CAAC,IAAI,CAAC,oDAA3CC,OAAO,qBAAEC,UAAU,qBAC1B,GAAMC,MAAK,CAAG,GAAIC,MAAK,YAAKN,QAAQ,SAAO,CAE3C;AACA;AACA;AACAL,KAAK,CAACY,mBAAmB,CAACR,GAAG,CAAE,iBAAO,CAC9BS,KAAK,iBAAkC,sPAAjCC,OAAO,8DAAG,GAAG,CAAEC,SAAS,8DAAG,IAAI,CACzCN,UAAU,CAAC,KAAK,CAAC,CACjB,GAAIM,SAAS,CAAE,CACbL,KAAK,CAACM,IAAI,EAAE,CACd,CAAC,sBACKf,MAAK,CAACa,OAAO,CAAC,QACpBL,UAAU,CAAC,IAAI,CAAC,CAAC,sBACXR,MAAK,CAAC,GAAG,CAAC,4DAClB,CACF,CAAC,EAAC,CAAC,CAEH,mBACE,eACE,EAAE,CAAEI,QAAS,CACb,SAAS,uBAAiBA,QAAQ,aAAIG,OAAO,CAAG,UAAU,CAAG,EAAE,CAAG,CAClE,OAAO,CAAE,yBAAMF,UAAS,CAACD,QAAQ,CAAC,EAAC,EAC3B,CAEd,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}